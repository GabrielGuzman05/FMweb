{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/_object-to-array.js","webpack:///./node_modules/node-libs-browser/mock/process.js","webpack:///./node_modules/core-js/library/modules/es7.object.values.js","webpack:///./node_modules/core-js/library/fn/object/values.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js","webpack:///./src/views/example/stencilToolbar/index.vue?d5c3","webpack:///src/views/example/stencilToolbar/index.vue","webpack:///./src/views/example/stencilToolbar/index.vue?f140","webpack:///./src/views/example/stencilToolbar/index.vue","webpack:///./src/views/example/stencilToolbar/index.vue?3d31","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/values.js","webpack:///./node_modules/path-browserify/index.js"],"names":["getKeys","__webpack_require__","toIObject","isEnum","f","module","exports","isEntries","it","key","O","keys","length","i","result","call","push","nextTick","fn","setTimeout","platform","arch","execPath","title","pid","browser","env","argv","binding","name","Error","path","cwd","chdir","dir","resolve","exit","kill","umask","dlopen","uptime","memoryUsage","uvCounters","features","$export","$values","S","values","Object","$iterators","redefine","global","hide","Iterators","wks","ITERATOR","TO_STRING_TAG","ArrayValues","Array","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","NAME","explicit","Collection","proto","prototype","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","palettes","palette","paletteIndex","attrs","_","shapeIndex","ref","refInFor","tabindex","staticRenderFns","stencilToolbarvue_type_script_lang_js_","data","graph","keyHandler","graphXml","methods","createGraph","mxClient","$refs","container","style","background","encode","encoder","getModel","getPrettyXml","decode","window","xmlDocument","parseXml","decoder","node","documentElement","initGraph","_this","R","isNil","disableContextMenu","rubberBand","setCellsEditable","bindKey","cells","getSelectionCells","removeCells","popupMenuHandler","factoryMethod","menu","addItem","$alert","$message","addSeparator","$confirm","then","selectAll","catch","addStencilPalette","file","req","load","root","getDocumentElement","shape","firstChild","$set","shapes","nodeType","NODETYPE_ELEMENT","shapeName","getAttribute","w","h","addStencil","width","height","nextSibling","createThumb","item","tmpGraph","document","createElement","thumbBorder","labelsVisible","view","scaleAndTranslate","instanceGraph","bounds","getGraphBounds","s","Math","floor","min","x","y","getCanvas","ownerSVGElement","cloneNode","position","overflow","cursor","concat","left","top","display","initToolBar","_this2","domArray","dragItem","forEach","dom","shapeItem","values_default","dragHandler","evt","cell","createDragPreview","elt","border","appendChild","makeDraggable","parent","getDefaultParent","beginUpdate","vertex","insertVertex","customer","endUpdate","mounted","_this3","join","$nextTick","example_stencilToolbarvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","process","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","splitPathRe","splitPath","filename","exec","slice","filter","xs","res","resolvedPath","resolvedAbsolute","arguments","TypeError","charAt","split","p","normalize","isAbsolute","trailingSlash","substr","paths","index","relative","from","to","trim","arr","start","end","fromParts","toParts","samePartsLength","outputParts","sep","delimiter","dirname","basename","ext","extname","str","len"],"mappings":"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","file":"js/chunk-44bfdca8.51f7ede7.js","sourcesContent":["var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n","exports.nextTick = function nextTick(fn) {\n\tsetTimeout(fn, 0);\n};\n\nexports.platform = exports.arch = \nexports.execPath = exports.title = 'browser';\nexports.pid = 1;\nexports.browser = true;\nexports.env = {};\nexports.argv = [];\n\nexports.binding = function (name) {\n\tthrow new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    exports.cwd = function () { return cwd };\n    exports.chdir = function (dir) {\n        if (!path) path = require('path');\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\nexports.exit = exports.kill = \nexports.umask = exports.dlopen = \nexports.uptime = exports.memoryUsage = \nexports.uvCounters = function() {};\nexports.features = {};\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"stencilToolbarContainer\"},[_c('div',{staticClass:\"toolbarContainer\"},[_c('el-collapse',_vm._l((Object.values(_vm.palettes)),function(palette,paletteIndex){return _c('el-collapse-item',{key:paletteIndex,attrs:{\"title\":palette['title'],\"name\":palette['name']}},_vm._l((palette['shapes']),function(_,shapeIndex){return _c('a',{key:shapeIndex,ref:\"dragItem\",refInFor:true,attrs:{\"shapeIndex\":shapeIndex,\"paletteIndex\":paletteIndex}})}),0)}),1)],1),_c('div',{ref:\"container\",staticClass:\"graphContainer\",attrs:{\"tabindex\":\"1\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"stencilToolbarContainer\">\n    <div class=\"toolbarContainer\">\n      <el-collapse>\n        <el-collapse-item v-for=\"(palette, paletteIndex) in Object.values(palettes)\"\n                          :title=\"palette['title']\"\n                          :name=\"palette['name']\"\n                          :key=\"paletteIndex\"\n        >\n          <a v-for=\"(_, shapeIndex) in palette['shapes']\"\n             :shapeIndex=\"shapeIndex\"\n             :paletteIndex=\"paletteIndex\"\n             ref=\"dragItem\"\n             :key=\"shapeIndex\"\n          >\n          </a>\n        </el-collapse-item>\n      </el-collapse>\n    </div>\n    <div class=\"graphContainer\" tabindex=\"1\" ref=\"container\"></div>\n  </div>\n</template>\n\n<script>\nimport {\n  mxUtils as MxUtils,\n  mxGraph as MxGraph,\n  mxEvent as MxEvent,\n  mxKeyHandler as MxKeyHandler,\n  mxRubberband as MxRubberBand,\n  mxConstants as MxConstants,\n  mxStencilRegistry as MxStencilRegistry,\n  mxStencil as MxStencil,\n  mxCodec as MxCodec,\n  mxGraphModel as MxGraphModel,\n  mxGeometry as MxGeometry\n} from 'mxgraph/javascript/mxClient'\n\nconst path = require('path')\n\nexport default {\n  name: 'stencilToolbar',\n  data() {\n    return {\n      graph: null,\n      keyHandler: null,\n      palettes: {},\n      graphXml: ''\n    }\n  },\n  methods: {\n    createGraph() {\n      this.graph = new MxGraph(this.$refs.container)\n      this.$refs.container.style.background = 'url(\"./mxgraph/images/grid.gif\")'\n    },\n    encode(graph) {\n      const encoder = new MxCodec()\n      const result = encoder.encode(graph.getModel())\n\n      return MxUtils.getPrettyXml(result)\n    },\n    decode(graphXml, graph) {\n      window['mxGraphModel'] = MxGraphModel\n      window['mxGeometry'] = MxGeometry\n\n      const xmlDocument = MxUtils.parseXml(graphXml)\n      const decoder = new MxCodec(xmlDocument)\n      const node = xmlDocument.documentElement\n\n      decoder.decode(node, graph.getModel())\n    },\n    initGraph() {\n      if (this.R.isNil(this.graph)) {\n        return\n      }\n      MxEvent.disableContextMenu(this.$refs.container)\n\n      this.rubberBand = new MxRubberBand(this.graph)\n      this.graph.setCellsEditable(false) // 不可修改\n      this.keyHandler = new MxKeyHandler(this.graph)\n      this.keyHandler.bindKey(46, () => {\n        const cells = this.graph.getSelectionCells() || []\n\n        this.graph.removeCells(cells, true)\n      })\n\n      this.graph.popupMenuHandler.factoryMethod = (menu) => {\n        menu.addItem('导出', null, () => {\n          this.graphXml = this.encode(this.graph)\n          this.$alert(this.graphXml)\n          this.$message('导出成功')\n        })\n        menu.addSeparator()\n        menu.addItem('导入', null, () => {\n          this.$confirm('为了使导入的效果明显，会先删除所有现有的cell，并在1秒后执行导入！！！', '提示',)\n            .then(() => {\n              this.graph.selectAll()\n              this.graph.removeCells(this.graph.getSelectionCells())\n              setTimeout(() => {\n                this.decode(this.graphXml, this.graph)\n                this.$message('导入成功')\n              }, 1000)\n            })\n            .catch(() => {\n\n            })\n\n        })\n      }\n    },\n    addStencilPalette(title, name, file) {\n      let req = MxUtils.load(file)\n      let root = req.getDocumentElement()\n      let shape = root.firstChild\n\n      this.$set(this.palettes, name, {title, name, shapes: []})\n\n      while (shape != null) {\n        if (shape.nodeType === MxConstants.NODETYPE_ELEMENT) {\n          const shapeName = shape.getAttribute('name')\n          const w = shape.getAttribute('w')\n          const h = shape.getAttribute('h')\n\n          MxStencilRegistry.addStencil(shapeName, new MxStencil(shape))\n          this.palettes[name]['shapes'].push({name: shape.getAttribute('name'), width: w / 2, height: h / 2})\n        }\n\n        shape = shape.nextSibling\n      }\n    },\n    createThumb(item, width, height) {\n      const tmpGraph = new MxGraph(document.createElement('div'))\n      const thumbBorder = 2\n\n      tmpGraph.labelsVisible = false\n      tmpGraph.view.scaleAndTranslate(1, 0, 0)\n\n      this.instanceGraph(tmpGraph, item, 0, 0, width, height)\n\n      const bounds = tmpGraph.getGraphBounds()\n      const s = Math.floor(Math.min((width - 2 * thumbBorder) / bounds.width, (height - 2 * thumbBorder) / bounds.height) * 100) / 100\n\n      tmpGraph.view.scaleAndTranslate(s, Math.floor((width - bounds.width * s) / 2 / s - bounds.x), Math.floor((height - bounds.height * s) / 2 / s - bounds.y))\n\n      const node = tmpGraph.view.getCanvas().ownerSVGElement.cloneNode(true)\n\n      node.style.position = 'relative'\n      node.style.overflow = 'hidden'\n      node.style.cursor = 'move'\n      node.style.width = `${width}px`\n      node.style.height = `${height}px`\n      node.style.left = `${thumbBorder}px`\n      node.style.top = `${thumbBorder}px`\n      node.style.display = 'inline-block'\n\n      return node\n    },\n    initToolBar() {\n      const domArray = this.$refs.dragItem\n\n      if (!(domArray instanceof Array) || domArray.length <= 0 || this.R.isNil(this.graph)) {\n        return\n      }\n      domArray.forEach(dom => {\n        const shapeIndex = dom.getAttribute('shapeIndex')\n        const paletteIndex = dom.getAttribute('paletteIndex')\n        const shapeItem = Object.values(this.palettes)[paletteIndex]['shapes'][shapeIndex]\n        const width = shapeItem['width']\n        const height = shapeItem['height']\n        const dragHandler = (graph, evt, cell, x, y) => {\n          this.instanceGraph(this.graph, shapeItem, x, y, width, height)\n        }\n        const createDragPreview = () => {\n          const elt = document.createElement('div')\n\n          elt.style.border = '2px dotted black'\n          elt.style.width = `${width}px`\n          elt.style.height = `${height}px`\n          return elt\n        }\n        dom.appendChild(this.createThumb(shapeItem, width, height))\n\n        MxUtils.makeDraggable(dom, this.graph, dragHandler, createDragPreview(), 0, 0, false, true)\n      })\n    },\n    instanceGraph(graph, shapeItem, x, y, width, height) {\n      const parent = graph.getDefaultParent()\n\n      graph.getModel().beginUpdate()\n      try {\n        let vertex = graph.insertVertex(parent, null, null, x, y, width, height, `shape=${shapeItem['name']};`)\n\n        vertex.customer = true\n      } finally {\n        graph.getModel().endUpdate()\n      }\n    }\n  },\n  mounted() {\n    this.createGraph()\n    this.initGraph()\n    this.addStencilPalette('箭头', 'arrows', path.join('./arrows.xml'))\n    this.$nextTick(() => {\n      this.initToolBar()\n    })\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.stencilToolbarContainer {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: relative;\n\n  .toolbarContainer {\n    flex: 2;\n    font-size: 20px;\n    background: #efefef;\n    text-align: center;\n    overflow: auto;\n  }\n\n  .graphContainer {\n    outline: none;\n    position: relative;\n    flex: 7;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=d95c9aca&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","module.exports = require(\"core-js/library/fn/object/values\");","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n"],"sourceRoot":""}